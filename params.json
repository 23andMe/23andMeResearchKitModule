{
  "name": "23andMe ResearchKit Module",
  "tagline": "Bring genetic data to your ResearchKit-enabled research app with 23andMe.",
  "body": "<img src=\"https://23andme.https.internapcdn.net/res/img/youpub/eMSIv5E4y1ilKTq6zq1MEQ_logo.svg\" alt=\"23andMe logo\" width=\"400\" height=\"150\">\r\n\r\n# 23andMe ResearchKit Module\r\nBring genetic data to your ResearchKit-enabled research app with 23andMe.\r\n\r\n**Interested? Contact us at researchkit@23andme.com**\r\n\r\n## Introduction\r\nSeamlessly incorporate genetic data collection into your ResearchKit-enabled app. With 23andMe's ResearchKit module you can use 23andMe as a source for collecting genetic data from both existing 23andMe customers as well as other individuals who you'd like to sign up for 23andMe.\r\n\r\n23andMe's ResearchKit module makes it easy to either:\r\n- Request that an existing 23andMe customers agree to share their genetic data with your app\r\n- Have a non-23andMe customer create a 23andMe account and profile, and agree to share their genetic data with your app, when available.\r\n\r\n### Supported Configurations\r\n#### 23andMe Customer Types\r\n- Existing 23andMe customers only\r\n\r\n   This configuration allows existing 23andMe customers to share their genotype data with your research study.\r\n- Existing and new 23andMe customers\r\n\r\n   Note that this configuration requires that a researcher has a purchase agreement in place to sponsor the purchase of a 23andMe kit for participants the researcher has deemed eligible.\r\n\r\n#### Contribution of Data\r\n- Contributing genetic data required\r\n- Contributing genetic data optional\r\n\r\n## Getting Started\r\n### Requirements\r\n- ResearchKit 1.3.0 (has not been tested against other versions)\r\n- iOS Base SDK 8.0+\r\n\r\n### Contact 23andMe for development environment access\r\n23andMe has created a development environment for researchers looking to include the 23andMe module in their app. Send an email to researchkit@23andme.com for more information on accessing the development environment.\r\n\r\nIf your app will only accept data from existing 23andMe customers, then you may not need access to the development environment. You can create a development API account [here].\r\n\r\nNote that development accounts are limited to 20 users. **You will need to request an API [upgrade] before you release your app.**\r\n\r\n### Authenticating with the 23andMe API\r\nOnce a user has gone through the 23andMe module, the app will return an authorization code that you can exchange for auth & refresh tokens using the 23andMe API. See the [documentation] for additional details.\r\n\r\n### Retrieving genetic data via the API\r\n- See the [genomes] endpoint documentation for downloading genomewide data\r\n- See the [genotypes] endpoint documentation for retrieving data for selected SNPs\r\n\r\n## Integrating the 23andMe Module\r\n### 1. Add the ResearchKit framework to your app\r\n\r\n   Follow the instructions posted at the [ResearchKit repo].\r\n\r\n### 2. Add the 23andMe module to your app's project\r\n\r\n   Clone the 23andMe module:\r\n   ```bash\r\n   git clone https://github.com/23andMe/23andMeResearchKitModule.git\r\n   ```\r\n   Copy the module inside your ResearchKit project. Copy the \"TwentyThreeAndMe\" into the ResearchKit project inside of XCode.\r\n\r\n### 3. Update ResearchKit code\r\n\r\n   See the \"OtherEdits.txt\" file for a summary of the required modifications.\r\n\r\n   **Researchkit.h**\r\n   Don't forget that when you add the following files to your project, they must have target membership set to \"public\"\r\n   ```objc\r\n   #import <ResearchKit/ORKTwentyThreeAndMeDefines.h>\r\n   #import <ResearchKit/ORKTwentyThreeAndMeConnectTaskViewController.h>\r\n   ```\r\n\r\n   **Researchkit.private**\r\n   Don't forget that when you add the following files to your project, they must have target membership set to \"private\"\r\n   ```objc\r\n   #import <ResearchKit/ORKOrderedTask+TwentyThreeAndMe.h>\r\n   #import <ResearchKit/ORKResult+TwentyThreeAndMe.h>\r\n   ```\r\n\r\n   **Researchkit.strings - English**\r\n   ```objc\r\n   /* 23andMe connect task. */\r\n   \"TWENTYTHREEANDME_DECLINE_PROMPT_DETAILS\" = \"Are you sure you want to decline adding your genetic data to %@? Declining may impact your eligibility for this study\";\r\n   \"TWENTYTHREEANDME_DECLINE_PROMPT_ACTION_DECLINE\" = \"Decline\";\r\n   \"TWENTYTHREEANDME_DECLINE_PROMPT_ACTION_CANCEL\" = \"Cancel\";\r\n\r\n   \"TWENTYTHREEANDME_INTRO_MAIN_SHARE\" = \"Add Genetic Data\";\r\n   \"TWENTYTHREEANDME_INTRO_MAIN_DECLINE\" = \"Decline\";\r\n\r\n   \"TWENTYTHREEANDME_INTRO_1_DESCRIPTION\" = \"%@ has selected 23andMe to collect genetic data for the %@ study\";\r\n\r\n   \"TWENTYTHREEANDME_INTRO_2_TITLE\" = \"About this study\";\r\n   \"TWENTYTHREEANDME_INTRO_2_ABOUT_REQUIRED\" = \"Contributing your genetic data is required for participation in the %@ study. You will need to authorize 23andMe to share that data with %@\";\r\n   \"TWENTYTHREEANDME_INTRO_2_ABOUT_OPTIONAL\" = \"In order to contribute your genetic data to the %@ study, you will need to authorize 23andMe to share that data with %@\";\r\n   \"TWENTYTHREEANDME_INTRO_2_ELIGIBILITY_HEADER\" = \"Eligibility\";\r\n   \"TWENTYTHREEANDME_INTRO_2_ELIGIBILITY_EXISTING\" = \"• Existing 23andMe users\";\r\n   \"TWENTYTHREEANDME_INTRO_2_ELIGIBILITY_NEW\" = \"• Individuals who agree to receive the 23andMe Personal Genome Service at no cost\";\r\n\r\n   \"TWENTYTHREEANDME_INTRO_3_TITLE\" = \"About 23andMe\";\r\n   \"TWENTYTHREEANDME_INTRO_3_MISSION\" = \"23andMe is a genetic service available directly to U.S. customers that includes reports that meet FDA standards for being scientifically and clinically valid. 23andMe helps people understand what’s in their DNA. The 23andMe Personal Genome Service includes more than 60 personalized genetic health, trait and ancestry reports.\";\r\n   \"TWENTYTHREEANDME_INTRO_3_LEARN_MORE\" = \"Learn more about 23andMe\";\r\n   \"TWENTYTHREEANDME_INTRO_3_QUESTIONS\" = \"Questions?\";\r\n   \"TWENTYTHREEANDME_INTRO_3_CONTACT\" = \"Contact %@\";\r\n\r\n   \"TWENTYTHREEANDME_COMPLETE_TITLE\" = \"Congratulations\";\r\n   \"TWENTYTHREEANDME_COMPLETE_DONE_BUTTON\" = \"Done\";\r\n   \"TWENTYTHREEANDME_COMPLETE_EXISTING_DETAIL\" = \"Congratulations, you’ve successfully enrolled in %@. %@ is now authorized to access your genetic data.\";\r\n   \"TWENTYTHREEANDME_COMPLETE_NEW_DETAIL\" = \"Congratulations, you’ve successfully enrolled in %@. %@ is now authorized to access your genetic data.\";\r\n   \"TWENTYTHREEANDME_COMPLETE_NEW_NEXT_STEP\" = \"Next steps\";\r\n   \"TWENTYTHREEANDME_COMPLETE_NEW_NEXT_STEP_DETAIL\" = \"23andMe will mail you a saliva collection kit. Simply follow the instructions included with the kit, mail the sample back, and we will notify you when your reports are ready.\";\r\n\r\n   \"TWENTYTHREEANDME_FAILURE_TITLE\" = \"Try again\";\r\n   \"TWENTYTHREEANDME_FAILURE_DESCRIPTION\" = \"Sorry, we weren’t able to enroll you in the genetic component of %@. Please try again, or contact %@ if you have any questions.\";\r\n   \"TWENTYTHREEANDME_FAILURE_CONTACT\" = \"Contact %@\";\r\n   \"TWENTYTHREEANDME_FAILURE_TRY_AGAIN_BUTTON\" = \"Try again\";\r\n   \"TWENTYTHREEANDME_FAILURE_DECLINE_BUTTON\" = \"Decline\";\r\n   ```\r\n### 4. Add image assets\r\n\r\n   The 23andMe module includes a series of assets used to incorporate 23andMe's look and feel. In order to include those in your app, create a \"TwentyThreeAndMe\" folder inside of the \"Artwork.xcassets\" item in your project's copy of ResearchKit. Then, copy the contents of the /Assets folder into the folder you've just created.\r\n\r\n### 5. Present the 23andMe Connect Task\r\n\r\n   In the view controller where you want to present the connect to 23andMe task and receive a user's permission to access her data, include the ResearchKit libraries and set a delegate to receive the task's response:\r\n   ```objc\r\n   #import <ResearchKit/ResearchKit.h>\r\n\r\n   @interface UIViewController () <ORKTwentyThreeAndMeConnectTaskViewControllerDelegate>\r\n   ```\r\n   Create the 23andMe task's view controller with the following method:\r\n   ```objc\r\n   ORKTwentyThreeAndMeConnectTaskViewController *ttamTaskVC =\r\n   [ORKTwentyThreeAndMeConnectTaskViewController twentyThreeAndMeTaskViewControllerWithIdentifier:@\"connectWithTTAM\"\r\n      allowedUserMode:ORKTwentyThreeAndMeAllowedUserModeExistingAndNew\r\n      studyDependency:ORKTwentyThreeAndMeStudyDependencyRequired\r\n      authClientId:@\"<client_id>\"\r\n      authClientSecret:@\"<client_secret>\"\r\n      authScopes:@\"basic genomes\"\r\n      investigatorDisplayName:@\"name\"\r\n      studyDisplayName:@\"study_name\"\r\n      studyContactEmail:@\"my_email@email.com\"\r\n      baseURLOverride:nil];\r\n   ```\r\n\r\n####   Parameters:\r\n\r\n   **allowedUserMode**: Either ```ORKTwentyThreeAndMeAllowedUserModeExistingAndNew``` or ```ORKTwentyThreeAndMeAllowedUserModeExistingOnly```.\r\n\r\n   **studyDependency**: Either ```ORKTwentyThreeAndMeStudyDependencyRequired``` or ```ORKTwentyThreeAndMeStudyDependencyOptional```.\r\n\r\n   **authClientId**: 23andMe API OAuth client ID\r\n\r\n   **authClientSecret**: 23andMe API OAuth client secret\r\n\r\n   **authScopes**: Space-seperated list of scopes to request from the 23andMe API. See the list of [scopes] for details on what scopes to request.\r\n\r\n   **investigatorDisplayName**: User-facing investigator name.\r\n\r\n   **studyDisplayName**: User-facing study name.\r\n\r\n   **studyContactEmail**: User-facing contact email address.\r\n\r\n   **baseURLOverride**: Either ```nil``` or a URL to override the default 23andMe API URL. Use this override URL to access the sandbox environment. For access to the sandbox environment, contact us at researchkit@23andme.com\r\n\r\n####   Set the delegate and present the 23andMe view controller:\r\n   ```objc\r\n   ttamTaskVC.twentyThreeAndMeConnectDelegate = self;\r\n\r\n   [self presentViewController:ttamTaskVC animated:NO completion:nil];\r\n   ```\r\n### 6. Implement the delegate method to receive a response\r\n\r\n   ```objc\r\n   - (void)twentyThreeAndMeConnectTaskViewController:(ORKTwentyThreeAndMeConnectTaskViewController *)twentyThreeAndMeConnectTaskViewController\r\n                             didFinishWithResults:(NSDictionary *)results\r\n                                            error:(nullable NSError *)error\r\n   ```\r\n   The ```results``` dictionary contains:\r\n\r\n   **completionType**: If the user successfully auth'd (and, for new 23andMe users, created an account) this will be set to ```success```. Otherwise, this will be set to ```cancelled```.\r\n\r\n   **authToken**: 23andMe Auth Token for the user's 23andMe profile. Only set if ```completionType == success```.\r\n\r\n   **refreshToken**: 23andMe Refresh Token for the user's 23andMe profile. Only set if ```completionType == success```.\r\n\r\n   On access and refresh tokens:\r\n>Access tokens expire after 1 day. If you need to access a user's data past that, you can request another token using the last ```refresh_token``` that you were issued. Using the refresh token means you don't have to send the user through the \"Accept\" screen all over again. Requesting a new token set will invalidate your old ```refresh_token```. Be sure to specify the full scope when requesting a new access token.\r\n\r\n#### 7. Use the 23andMe API to retrieve user data\r\n   Once you've retrieved an access token, you can use the API to access the information that the user agreed to share with you as it is available. _Access tokens retrieved via the 23andMe ResearchKit module are only valid for individual profiles, so be sure to keep track of the profile ID that's associated with the token._\r\n\r\n## Questions?\r\n**Questions about 23andMe, the 23andMe API, or interested in setting up a project with us?** Contact us at researchkit@23andme.com.\r\n\r\n**See something in our code or documentation?** Create an issue on GitHub and we'll take a look.\r\n\r\n# License\r\nThe source in the _23andMeResearchKitModule_ repository is made available under the following license unless another license is explicitly identified:\r\n```\r\nCopyright (c) 2016, 23andMe, Inc. All rights reserved.\r\n\r\n Redistribution and use in source and binary forms, with or without modification,\r\n are permitted provided that the following conditions are met:\r\n\r\n 1.  Redistributions of source code must retain the above copyright notice, this\r\n list of conditions and the following disclaimer.\r\n\r\n 2.  Redistributions in binary form must reproduce the above copyright notice,\r\n this list of conditions and the following disclaimer in the documentation and/or\r\n other materials provided with the distribution.\r\n\r\n 3.  Neither the name of the copyright holder(s) nor the names of any contributors\r\n may be used to endorse or promote products derived from this software without\r\n specific prior written permission. No license is granted to the trademarks of\r\n the copyright holders even if such marks are included in this software.\r\n\r\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\r\n FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\r\n OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n```\r\n\r\n[documentation]: https://api.23andme.com/docs/authentication/\r\n[genomes]: https://api.23andme.com/docs/reference/#genomes\r\n[genotypes]: https://api.23andme.com/docs/reference/#genotypes\r\n[here]: https://api.23andme.com/\r\n[upgrade]: https://api.23andme.com/overview/\r\n[ResearchKit repo]: https://github.com/researchkit/researchkit#adding-the-researchkit-framework-to-your-app\r\n[scopes]: https://api.23andme.com/docs/authentication/#scopes\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}